{"version":3,"file":"static/js/795.96c6ec97.chunk.js","mappings":"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","sources":["utils/api.ts","views/PlayLotto/index.tsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NODE_ENV === 'production' ? 'http://api.gagakor.xyz' : 'http://localhost:8080',\r\n  timeout: 3600,\r\n});\r\n\r\nexport default api;\r\n","import './styles.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { AiFillMinusCircle, AiFillPlusCircle } from 'react-icons/ai';\r\nimport { MouseEvent, ChangeEvent, KeyboardEvent, useEffect, useState } from 'react';\r\nimport api from '../../utils/api';\r\nimport { useAppDispatch, useAppSelector } from '../../store/config';\r\nimport { setGame } from '../../store/slices/gameSlice';\r\n\r\nconst PlayLotto = () => {\r\n  const disPatch = useAppDispatch();\r\n  const { game } = useAppSelector((state) => state.game);\r\n\r\n  const [lotto, setLotto] = useState({\r\n    round: 0,\r\n    lotto_number: [],\r\n  });\r\n\r\n  const [deviation, setDeviation] = useState<number>(0);\r\n\r\n  const [count, setCount] = useState(1);\r\n\r\n  type InExclude = {\r\n    id: string;\r\n    value: number;\r\n  };\r\n  const [includeArr, setIncludeArr] = useState<InExclude[]>([]);\r\n  const [excludeArr, setExcludeArr] = useState<InExclude[]>([]);\r\n\r\n  function changeArr(arr: number[]) {\r\n    return arr.map((v: number) => {\r\n      const randomStr = Math.random().toString(36).substring(2, 6);\r\n      const data: InExclude = {\r\n        id: randomStr,\r\n        value: v,\r\n      };\r\n      return data;\r\n    });\r\n  }\r\n\r\n  const fetchData = async () => {\r\n    const res = await api.get('/lotto/thisweek');\r\n\r\n    const lottoData = {\r\n      round: res.data[0].round,\r\n      lotto_number: JSON.parse(res.data[0].lotto_number),\r\n    };\r\n\r\n    setLotto(lottoData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n\r\n    setCount(game.playGame);\r\n    setDeviation(game.deviation);\r\n    setIncludeArr(changeArr(game.include));\r\n    setExcludeArr(changeArr(game.exclude));\r\n  }, []);\r\n\r\n  const handleOnkeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    const targetValue = Number(e.currentTarget.value);\r\n    const randomStr = Math.random().toString(36).substring(2, 6);\r\n    if (e.key === 'Enter') {\r\n      if (targetValue > 0 && targetValue < 46) {\r\n        if (e.currentTarget.id === 'include') {\r\n          if (\r\n            includeArr.length < 6 &&\r\n            includeArr.filter((v) => v.value === targetValue).length < 1 &&\r\n            excludeArr.filter((v) => v.value === targetValue).length < 1\r\n          ) {\r\n            const data: InExclude = {\r\n              id: randomStr,\r\n              value: targetValue,\r\n            };\r\n            const newArr = [...includeArr, data];\r\n            newArr.sort((a, b) => a.value - b.value);\r\n            setIncludeArr(newArr);\r\n          }\r\n        } else {\r\n          if (\r\n            excludeArr.length < 39 &&\r\n            excludeArr.filter((v) => v.value === targetValue).length < 1 &&\r\n            includeArr.filter((v) => v.value === targetValue).length < 1\r\n          ) {\r\n            const data: InExclude = {\r\n              id: randomStr,\r\n              value: targetValue,\r\n            };\r\n            const newArr = [...excludeArr, data];\r\n            newArr.sort((a, b) => a.value - b.value);\r\n            setExcludeArr(newArr);\r\n          }\r\n        }\r\n      }\r\n      e.currentTarget.value = '';\r\n      e.preventDefault();\r\n    }\r\n  };\r\n  function handleOnChange(e: ChangeEvent<HTMLInputElement>) {\r\n    if (e.target.name === 'deviation' && Number(e.target.value) >= 0) {\r\n      setDeviation(Number(e.target.value));\r\n    }\r\n  }\r\n\r\n  const handleOnClickRemoveIncludeArr = (e: MouseEvent<HTMLElement>) => {\r\n    const id = e.currentTarget.id;\r\n    const data = includeArr.filter((v) => v.id !== id);\r\n    setIncludeArr([...data]);\r\n  };\r\n  const handleOnClickRemoveExcludeArr = (e: MouseEvent<HTMLElement>) => {\r\n    const id = e.currentTarget.id;\r\n    const data = excludeArr.filter((v) => v.id !== id);\r\n    setExcludeArr([...data]);\r\n  };\r\n  const onClickReceive = () => {\r\n    const include = includeArr.map((v) => v.value);\r\n    const exclude = excludeArr.map((v) => v.value);\r\n    const data = {\r\n      playGame: count,\r\n      deviation,\r\n      include,\r\n      exclude,\r\n    };\r\n    disPatch(setGame(data));\r\n  };\r\n\r\n  const handleNumberOfGames = (isPlus: boolean) => {\r\n    if (isPlus) {\r\n      if (count < 5) setCount((prev) => prev + 1);\r\n    } else {\r\n      if (count > 1) setCount((prev) => prev - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"playLotto-container\">\r\n      <div className=\"win-title\">\r\n        <p>This week{`'`}s lotto</p>\r\n      </div>\r\n\r\n      <div className=\"win-number-container\">\r\n        <span className=\"win-number win-number--one\">{lotto.lotto_number[0]}</span>\r\n        <span className=\"win-number win-number--two\">{lotto.lotto_number[1]}</span>\r\n        <span className=\"win-number win-number--three\">{lotto.lotto_number[2]}</span>\r\n        <span className=\"win-number win-number--four\">{lotto.lotto_number[3]}</span>\r\n        <span className=\"win-number win-number--five\">{lotto.lotto_number[4]}</span>\r\n        <span className=\"win-number win-number--six\">{lotto.lotto_number[5]}</span>\r\n      </div>\r\n\r\n      {/* Number of Games */}\r\n      <div className=\"form-list\">\r\n        <div className=\"form-list__title\">Number of Games</div>\r\n        <div className=\"form-list__number\">\r\n          <span onClick={() => handleNumberOfGames(true)}>\r\n            <AiFillPlusCircle />\r\n          </span>\r\n          <span>{count}</span>\r\n          <span onClick={() => handleNumberOfGames(false)}>\r\n            <AiFillMinusCircle />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Deviation */}\r\n      <div className=\"form-list\">\r\n        <div className=\"form-list__title\">Deviation</div>\r\n        <input\r\n          type=\"text\"\r\n          name=\"deviation\"\r\n          enterKeyHint=\"enter\"\r\n          value={deviation}\r\n          onChange={handleOnChange}\r\n          className=\"form-list__input\"\r\n        />\r\n      </div>\r\n\r\n      {/* Included Number */}\r\n      <div className=\"form-list\">\r\n        <div className=\"form-list__title\">Included Number</div>\r\n        <input\r\n          className=\"form-list__input\"\r\n          type=\"text\"\r\n          placeholder=\"Enter Number\"\r\n          id=\"include\"\r\n          name=\"include\"\r\n          enterKeyHint=\"enter\"\r\n          onKeyDown={handleOnkeyPress}\r\n        />\r\n      </div>\r\n      <div className=\"reserved-box\">\r\n        {includeArr.map((v) => {\r\n          return (\r\n            <div key={v.id} id={v.id} className=\"reserved-value\" onClick={handleOnClickRemoveIncludeArr}>\r\n              {v.value}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Exclusion Number */}\r\n      <div className=\"form-list\">\r\n        <div className=\"form-list__title\">Exclusion Number</div>\r\n        <input\r\n          className=\"form-list__input\"\r\n          type=\"text\"\r\n          placeholder=\"Enter Number\"\r\n          id=\"exclude\"\r\n          name=\"exclude\"\r\n          enterKeyHint=\"enter\"\r\n          onKeyDown={handleOnkeyPress}\r\n        />\r\n      </div>\r\n      <div className=\"reserved-box\">\r\n        {excludeArr.map((v) => {\r\n          return (\r\n            <div key={v.id} id={v.id} className=\"reserved-value\" onClick={handleOnClickRemoveExcludeArr}>\r\n              {v.value}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <Link to={'/ResultLotto'} onClick={onClickReceive} className=\"text-decoration-none\">\r\n        <div className=\"submit-container\">Receive</div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayLotto;\r\n"],"names":["api","axios","baseURL","timeout","disPatch","useAppDispatch","game","useAppSelector","state","useState","round","lotto_number","lotto","setLotto","deviation","setDeviation","count","setCount","includeArr","setIncludeArr","excludeArr","setExcludeArr","changeArr","arr","map","v","id","Math","random","toString","substring","value","fetchData","res","lottoData","data","JSON","parse","useEffect","playGame","include","exclude","handleOnkeyPress","e","targetValue","Number","currentTarget","randomStr","key","length","filter","newArr","sort","a","b","preventDefault","handleOnClickRemoveIncludeArr","handleOnClickRemoveExcludeArr","handleNumberOfGames","isPlus","prev","className","onClick","type","name","enterKeyHint","onChange","target","placeholder","onKeyDown","to","setGame"],"sourceRoot":""}